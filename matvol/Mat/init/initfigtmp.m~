

%%%%%%%%%%   UIMENU    %%%%%%%%%%%%
h0 = hdl.figNum;

menu2 = findobj(h0,'label','graph');
% = uimenu(h0,'Label','graph');
%uimenu(menu2,'Label','zoom','Callback','zoom');
uimenu(menu2,'Label','y log scale','Callback','set(gca,''yscale'',''log'')' );

menuD = findobj(h0,'label','Decours');
menufil = uimenu(menuD,'label','filter','userdata','simple cut');
uimenu(menufil,'label','simple cut','Callback','affichevol(5,''init_filter'')');
uimenu(menufil,'label','SPM way','Callback','affichevol(5,''init_filter'')');
uimenu(menufil,'label','Gaussian low','Callback','affichevol(5,''init_filter'')');
uimenu(menuD,'label','trac','callback','affichevol(11,''trac_roi_on'')');
uimenu(menuD,'label','variance on','callback','affichevol(11,''variance_on'')');

menu3 = uimenu(h0,'label','Exam');

mt = uimenu(menu3,'label','tempo');
uimenu(mt,'label','concat exam','Callback','plotmoy(''concat_exam'')');
uimenu(mt,'label','set serie skip','Callback','plotmoy(''set_serie_skip'')');

uimenu(menu3,'label','series global','Callback','plotmoy(''global_series'')');
uimenu(menu3,'label','realign param','Callback','plotmoy(''realign_param'')');
uimenu(menu3,'label','series Paradigm','Callback','plotmoy(''paradigm'')');
uimenu(menu3,'label','series  onset','Callback','plotmoy(''ser_onset'')');

uimenu(menu3,'label','series time','Callback','plotmoy(''time_series'')');
uimenu(menu3,'label','size','Callback','plotmoy(''size_series'')');

menu3 = uimenu(h0,'label','Result');
uimenu(menu3,'label','model','Callback','plotmoy(''see_model'')');
uimenu(menu3,'label','model onset','Callback','plotmoy(''model_onset'')');
uimenu(menu3,'label','vol hist','Callback','plotmoy(''see_vol_hist'')');
uimenu(menu3,'label','res glob','Callback','plotmoy(''see_global'')');
uimenu(menu3,'label','Cumulative moy','Callback','plotmoy(''cum_moy'')');
uimenu(menu3,'label','SPM estimate','Callback','plotmoy(''SPMestim'')');



%%%%%%%%%%   axes    %%%%%%%%%%%%


%hdl_p.frame = uicontrol('Parent',h0, ...
%	'Units','normalized', ...
%	'BackgroundColor',[0.45 0.45 0.45], ...
%	'Interruptible','off', ...
%	'ListboxTop',0, ...
%   'Position',[0.01 0.0 0.60 0.13], ...
%	'Style','frame', ...
%	'Tag','FrameEdit');
%   [left bottom width height]

%%%%%%%%%%   UICONTROL   Liste  CHARGE  %%%%%%%%%%%%

long = 0.15;
pos_x =  0.01;
pos_y = 0.055;
sp=0.001;
ep = (pos_y- 3*sp)/2 ;

hdl_p.exam = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''set_exam'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String',{'nop'}, ...
	'Style','popupmenu', ...
	'Tag','exam', ...
	'Value',1);
pos_y = pos_y - (ep+sp);
%Methode
hdl_p.serie = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''set_serie'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String',{'nop'}, ...
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);

pos_y = pos_y - (ep+sp);
hdl_p.result = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''set_result'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long*2, ep ],...
	'String',{'nop'}, ...
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);

pos_x =  0.11;
pos_y = 0.055;

 hdl_p.data_type = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''gui_change_data_type'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String',{'mean','raw','beta'}, ...
	'Style','popupmenu', ...
	'Tag','plotmoy_show_type', ...
	'Value',1);

pos_y = pos_y - (ep+sp);
hdl_p.roi_list = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''gui_change_data_type2'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String','1', ...
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);

pos_x =  0.21;
pos_y = 0.055;

hdl_p.tempo = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''set_tempo'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String',{'Tempo','MoyCond','spectre','images t'}, ...
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);

pos_y = pos_y - (ep+sp); 
hdl_p.scale = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''scale'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y long, ep ],...
	'String',{'Absol','mean scale','series mean','mean shift','user scale'}, ...
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);

%%%%%%%% uicontrol EDIT bouton %%%%%%%%%%%%%
pos_x =  0.31;
pos_y = 0.055;

hdl_p.dim1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','plotmoy(''verifedit'')', ...
	'HorizontalAlignment','right', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.09 0.03], ...
	'String','1:10', ...
	'Style','edit', ...
	'Tag','space');

pos_y = pos_y - (ep+sp); 
hdl_p.slider = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[0.7 0.7 0.7], ...
	'Callback','plotmoy(''slide'')', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.11 0.025], ...
	'Style','slider', ...
	'Tag','Slider1');


pos_y = pos_y - (ep+sp); 

%%%Start stop pause reset
hdl_p.cine = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''cine'')', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.045 0.025], ...
        'TooltipString','Start cine loop',...
	'String','Start', ...
	'Tag','apply');

pos_x =  pos_x + 0.05;
hdl_p.undo = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''undo'')', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.04 0.025], ...
	'String','undo', ...
	'Tag','stop');

pos_x =  pos_x + 0.05;
hdl_p.editPause = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.04 0.025], ...
        'TooltipString','time pause for cine loop',...
	'String','0.01', ...
	'Style','edit', ...
   'Tag','editPause');

pos_x =  0.43;
pos_y = 0.055;
hdl_p.checkhold = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.02 0.025], ...
	'Style','checkbox', ...
        'TooltipString','hold on',...	  
	'Tag','Checkhold');

pos_y = pos_y - (ep+sp); 
hdl_p.col = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'ListboxTop',0, ...
	'Position',[pos_x pos_y 0.02 0.025], ...
	'Style','checkbox', ...
        'TooltipString','change color',...			  
	'Tag','Checkbox2');

pos_y = 0.055;

hdl_p.applyfilter = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'ListboxTop',0, ...
	'Callback','plotmoy(''initFilter'')', ...
	'Position',[0.52 pos_y 0.02 0.025], ...
	'Style','checkbox', ...
        'TooltipString','Apply temporal filter',...	  
	'Tag','applyfilter');


hdl_p.HP = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','plotmoy(''initFilter'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[0.47 pos_y 0.05 0.025], ...
	'String','64', ...
	'Style','edit', ...
        'TooltipString','High pass filter',...	  
	'Tag','space');
 
hdl_p.LP = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[1 1 1], ...
	'Callback','plotmoy(''initFilter'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[0.55 pos_y 0.05 0.025], ...
	'String','4', ...
	'Style','edit', ...
        'TooltipString','Low pass filter',...	  
	'Tag','space');

hdl_p.preproc = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','plotmoy(''set_serie_preproc'')', ...
	'Interruptible','off', ...
	'ListboxTop',0, ...
	'Position',[0.49 0.025 0.08 0.025],...
	'String',{'raw','realign','normalised'}, ...
        'TooltipString','Preproc data type',...			  
	'Style','popupmenu', ...
	'Tag','MethodPop', ...
	'Value',1);


pos_x =  0.61;
pos_y = 0.055 + ep;

hdl_p.info = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[1 1 1],...
	'ListboxTop',1, ...
	'HorizontalAlignment','left',...
	'Position',[pos_x 0 0.3 pos_y], ...
...%	'Position',[0.63 0.001 0.3 0.1], ...
	'String',{'info'}, ...
	'Style','listbox', ...
	'Tag','info');






