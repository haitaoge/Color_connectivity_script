function [varargout] = read_res(fin)

ind_to_remove=[];
if ischar(fin)
    fin={fin};
end

for k=1:length(fin)
    
    [r h] = readtext(fin{k});

% not working if some val are string    
%    val = cell2mat(r(h.numberMask))';
%    hdr = r(h.stringMask)';
% so assume first line is hdr second is val and first collum only is a string
if ischar(r(2,1)
    
val = cell2mat(r(2,2:end)) ;
    hdr = r(1,2:end);
else
end

    
    if k==1
        hdrref=hdr;
    end
    if length(hdr)~=length(hdrref)
        fprintf('prb with %s\n',fin{k});
        ind_to_remove(end+1) = k;
        continue
    end
    
    if any(any(char(hdr)-char(hdrref)))
        %error('not the same label')
        fprintf('prb with %s\n',fin{k});
        ind_to_remove(end+1) = k;
        continue
    end
    
    vals(k,:) = val;
    
end

fin(ind_to_remove) = '';
cout.suj = get_parent_path(fin);


for k=1:length(hdr)
    cout = setfield(cout,hdr{k},vals(:,k));
    
end

if nargout==1
    varargout{1} = cout;
elseif nargout==2
    varargout{1} = hdrref;
    varargout{2} = vals;
end